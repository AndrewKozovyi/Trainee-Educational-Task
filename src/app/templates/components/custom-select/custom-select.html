<div class="custom-select">
  <button (click)="isOpen = !isOpen">
    @if (selectedOption) {
      <ng-container
        [ngTemplateOutlet]="customTemplate"
        [ngTemplateOutletContext]="{$implicit: selectedOption}"
      ></ng-container>
    } @else {
      <span>Select an option</span>
    }
  </button>

  @if (isOpen) {
    <ul>
      @for (option of options; track option.id) {
        <li [ngClass]="option === selectedOption ? 'active' : ''" (click)="select(option)">
          <ng-container
            [ngTemplateOutlet]="customTemplate"
            [ngTemplateOutletContext]="{$implicit: option}"
          ></ng-container>
        </li>
      }
    </ul>
  }
</div>
